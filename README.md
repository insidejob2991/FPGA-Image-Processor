# FPGA Image Processing Pipeline (BRAM + CORDIC)

## üåü Project Overview

This project implements a hardware-accelerated image processing pipeline on a Xilinx Artix-7 FPGA (Basys 3 board). It demonstrates the fundamental concept of moving complex mathematical functions from slow software execution onto parallel hardware for speed.

The core function applied to the grayscale image data is the **Square Root** ($\sqrt{P}$), calculated using the CORDIC IP core.

### Key Components & Technologies

| Component | Function | Technology |
| :--- | :--- | :--- |
| **Input Data** | Grayscale Image (128x128 pixels) | **Python/COE File** |
| **Data Storage** | Image initialization memory | **Xilinx Block RAM (BRAM)** |
| **Processing** | Square Root calculation ($\sqrt{P}$) | **Xilinx CORDIC IP Core** |
| **Data Control** | Slows data stream from 100MHz to 2Hz | **Verilog Clock Enable Logic** |
| **Data Output** | Streams processed pixels to PC | **Verilog UART TX Module** |

***

## ‚öôÔ∏è Hardware Architecture (`top_module.v` Flow)

The entire system is synchronized by a slow $2\text{Hz}$ pulse generated by a $25 \text{Million}$-cycle counter.

1.  **Read Address:** The slow pulse triggers the **Address Pointer (`addr`)** to advance by one.
2.  **Data Fetch:** The **BRAM** instantly reads the pixel value (`pixel_data`) corresponding to the new address.
3.  **Processing:** The **CORDIC IP** receives the 16-bit pixel data (`gaussian_result`) and calculates the square root.
4.  **Transmission:** The final result is registered (`led_output_reg`) and then sent out bit-by-bit via the **UART TX module**. 

[Image of FPGA Image Processing Data Flow Diagram]


***

## üíª Simulation & Verification (No FPGA Board Needed)

To verify the processing pipeline without programming the physical board, the design was executed in a behavioral simulation environment.

### 1. Preparation (Sim-Mode Files)

Before running the simulation, the system must be prepared:

| File | Change | Purpose |
| :--- | :--- | :--- |
| **`top_module.v`** | Temporarily set the Clock Divisor to a small value (e.g., `100`). | Forces the simulation to run instantly (16,384 pixels in milliseconds). |
| **`tb_top.v`** | Contains the **sequential loop** and `$fwrite` commands. | Handles the reliable generation of the output data file. |

### 2. Data Extraction Steps

1.  **Run Simulation:** Launch Behavioral Simulation in Vivado. The simulation runs until it hits the `$stop` command in `tb_top.v`.
2.  **Retrieve File:** Locate the generated text file, **`processed_image_data.txt`**, in the `.../xsim/` directory.
3.  **Reconstruction:** Run the final Python script to convert the hex data back to a viewable image file.

```bash
# Example: Running the Python reconstruction script
python sim_data_to_image.py
